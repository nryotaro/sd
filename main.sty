\RequirePackage[match,no-math]{luatexja-fontspec}
\RequirePackage{enumitem}
\RequirePackage{stix2}
\RequirePackage[
backend=biber,
sorting=none,
defernumbers
]{biblatex}

% fonts
% \setmathfont{STIX Two Math}
\setmainfont{Times New Roman}
\setmainjfont{HiraMinProN-W3}[
BoldFont=HiraMinProN-W6
]
\setsansjfont{Hiragino Sans}
\setsansfont{Helvetica Neue}
\setmonofont{JetBrainsMono}
\setmonojfont{SourceHanCodeJP}

% patterns
\newcommand{\printjbibliography}{\printbibliography[title=参考文献]}

% chapter
\newenvironment{chapter-bib}[1]
{\chapter{#1}\begin{refsection}}
  {\printjbibliography\end{refsection}}

\newenvironment{exercise}
{\begin{enumerate}[label=問題\arabic*,labelsep=10pt,leftmargin=*]}
{\end{enumerate}}